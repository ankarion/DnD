---
type: character
tags:
  - character
---

```dataviewjs
let lvlUpRules = [200, 400, 700, 1000, 1300, 1800, 2300, 2800, 3500, 4200, 4900, 5600, 6500, 7400, 8300, 9200, 10300, 11400, 12500, 13600];

function calculateLvL(lvlUpRules,exp){
	let lvl=1;
	for (let requiredExp of lvlUpRules){
		if (exp<requiredExp) {return lvl;}
		else lvl+=1;
	}
}

function flatten(list){
	let result = [];
	for(let element of list){
		if (typeof(element)!=typeof(result)){
			result.push(element);
		}
		else {
			result.push(...element);
		}
	}
	return(result);
}

let adventures = dv.pages().where(note=>note.file.folder==dv.current().file.folder);
let rewards = flatten(adventures.rewards);

let exp = rewards.filter((t)=>t.split("Ð¾Ð¿").length>1);
exp = exp.map((t)=>parseInt(t.split("Ð¾Ð¿")[0]));
exp = exp.reduce((acc, val) => acc + val, 0);

let lvl = calculateLvL(lvlUpRules,exp);

let gp = rewards.filter((t)=>t.split("Ð·Ð¼").length>1);
gp = gp.map((t)=>parseInt(t.split("Ð·Ð¼")[0]));
gp = gp.reduce((acc, val) => acc + val, 0);

let food = rewards.filter((t)=>t.split("ÑÑƒÑ…Ð¿Ð°Ð¹").length>1);
food = food.map((t)=>parseInt(t.split("ÑÑƒÑ…Ð¿Ð°Ð¹")[0]));
food = food.reduce((acc, val) => acc + val, 0);

dv.span(
        "**Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ:** "+lvl+"("+exp+"/"+lvlUpRules[lvl-1]+") "
        + "![progress](https://progress-bar.dev/"
        + parseInt((exp / lvlUpRules[lvl-1]) * 100)
        + "/)"
    )
dv.paragraph("**Ð”Ð¾Ñ…Ð¾Ð´ðŸª™:** "+gp+" Ð·Ð¼")
dv.paragraph("**Ð•Ð´Ð°ðŸ–:** "+food+" ÑÑƒÑ…Ð¿Ð°Ð¹")
```

> [!info]- Ð ÐµÐ¿ÑƒÑ‚Ð°Ñ†Ð¸Ñ
> 
> | Fraction | Ð ÐµÐ¿ÑƒÑ‚Ð°Ñ†Ð¸Ñ | âœ‰ï¸ |
> | ---- | ---- | ---- |
> | ÐÑ€Ñ…ÐµÐ¾Ð»Ð¾Ð³Ð¸ | `$= dv.pages().where(page => page.fraction==["[[Ð°Ñ€Ñ…ÐµÐ¾Ð»Ð¾Ð³Ð¸]]",]&& (page.file.folder==dv.current().file.folder)).length` |  |
> | ÐœÐ°Ð³Ð¸ | `$= dv.pages().where(page => page.fraction=="Ð¼Ð°Ð³Ð¸"&& (page.file.folder==dv.current().file.folder)).length` |  |
> | ÐÐ°ÐµÐ¼Ð½Ð¸ÐºÐ¸ | `$= dv.pages().where(page => page.fraction=="Ð½Ð°ÐµÐ¼Ð½Ð¸ÐºÐ¸"&& (page.file.folder==dv.current().file.folder)).length` |  |
> | Ð¡ÑƒÐ´Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»Ð¸ | `$= dv.pages().where(page => page.fraction=="ÑÑƒÐ´Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÐµÐ»Ð¸"&& (page.file.folder==dv.current().file.folder)).length` |  |
> | ÐŸÐ»Ð¾Ñ‚Ð½Ð¸ÐºÐ¸ | `$= dv.pages().where(page => page.fraction=="Ð¿Ð»Ð¾Ñ‚Ð½Ð¸ÐºÐ¸"&& (page.file.folder==dv.current().file.folder)).length` |  |
> | ÐœÐµÑ‚Ð°Ð»Ð»ÑƒÑ€Ð³Ð¸ | `$= dv.pages().where(page => page.fraction=="Ð¼ÐµÑ‚Ð°Ð»Ð»ÑƒÑ€Ð³Ð¸"&& (page.file.folder==dv.current().file.folder)).length` |  |

> [!warning]- ðŸ“–ÐŸÑ€Ð¸ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
> ```dataview
> table without id
> file.link as source,
> sum(number(filter(rewards, (t)=>contains(t, "Ð¾Ð¿")))) as Ð¾Ð¿,
> sum(number(filter(rewards, (t)=>contains(t, "Ð·Ð¼")))) as Ð·Ð¼
> from "/"
> where rewards and this.file.folder=file.folder
> sort file.link desc
> ```

> [!quote]+ ðŸŽ’ÐŸÑ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹
> ```dataview
> table without id
> rewards as inventory,
> file.link as source
> from "/"
> where rewards and this.file.folder=file.folder
> flatten rewards
> where 
> 	!contains(rewards, "Ð·Ð¼") and
> 	!contains(rewards, "Ð¾Ð¿") and
> 	!contains(rewards, "ÑÑƒÑ…Ð¿Ð°Ð¹") and
> 	!contains(rewards, "Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¿Ð¸ÑÑŒÐ¼Ð¾")
> sort inventory
> ```


